<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>서버로 JSON 데이터를 전송하는 것도 가능하다. 아래 예제를 참고하자.</title>
</head>
<body>
	<p>time : <span id="time"></span></p>
	<select id="timezone">
	    <option value="Asia/Seoul">asia/seoul</option>
	    <option value="America/New_York">America/New_York</option>
	</select>
	<select id="format">
	    <option value="Y-m-d H:i:s">Y-m-d H:i:s</option>
	    <option value="Y-m-d">Y-m-d</option>
	</select>
	<input type="button" id="execute" value="execute" />
	<script>
	document.querySelector('input').addEventListener('click', function(event){
	    var xhr = new XMLHttpRequest();
	    xhr.open('POST', './time3.php');
	    xhr.onreadystatechange = function(){
	        document.querySelector('#time').innerHTML = xhr.responseText;
	    }
	    var data = new Object();
	    data.timezone = document.getElementById('timezone').value;
	    data.format = document.getElementById('format').value;
	    xhr.setRequestHeader("Content-Type", "application/json");
	    xhr.send(JSON.stringify(data)); 
	    //stringify 메소드는 json 객체를 String 객체로 변환시켜 줍니다.
	    //JSON.stringify() 메소드는 인수로 전달받은 자바스크립트 객체를 문자열로 변환하여 반환합니다.
	});
	</script>

</body>
</html>