<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
	        <style>
	        	
	        </style>
    </head>
    <body>
   		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script>  
			 	var time = 'Thu Jun 20 2017 15:01:17 GMT+0900';
			 
			    function timeBefore(time){ 
			        //현재시간을 가져옴
			        var now = new Date(); 
			        console.log(now);
			        //글쓴 시간 
			        var writeDay = new Date(time);
			     	var minus;
			        //현재 년도랑 글쓴시간의 년도 비교 
			        
			        if(now.getFullYear() > writeDay.getFullYear()){
			            minus= now.getFullYear()-writeDay.getFullYear();
			            //두개의 차이를 구해서 표시
			            return minus+"년 전";
			        }else if(now.getMonth() > writeDay.getMonth()){
			        //년도가 같을 경우 달을 비교해서 출력
			            minus= now.getMonth()-writeDay.getMonth();
			            return minus+"달 전";
			        }else if(now.getDate() > writeDay.getDate()){
			       	//같은 달일 경우 일을 계산
			            minus= now.getDate()-writeDay.getDate();
			            return minus+"일 전";
			        }else if(now.getDate() == writeDay.getDate()){
			        //당일인 경우에는 
			            var nowTime = now.getTime();
			            var writeTime = writeDay.getTime();
			            
			            if(nowTime > writeTime){
			            //시간을 비교
			                sec =parseInt(nowTime - writeTime) / 1000;
			                day  = parseInt(sec/60/60/24);
			                sec = (sec - (day * 60 * 60 * 24));
			                hour = parseInt(sec/60/60);
			                sec = (sec - (hour*60*60));
			                min = parseInt(sec/60);
			                sec = parseInt(sec-(min*60));
			                if(hour > 0){ 
			                //몇시간전인지
			                    return hour+"시간 전";
			                }else if(min > 0){
			                //몇분전인지
			                    return min+"분 전";
			                }else if(sec > 0){
			                //몇초전인지 계산
			                    return sec+"초 전";
			                }
			            }
			        }
		        }
        </script>  
    			<script>      
    			 	document.write(timeBefore('Sat Sep 13 22:39:48 2019'));
    			 	document.write(timeBefore('Thu Jun 20 2017 15:01:17'));
    			 	document.write(timeBefore('2017/12/31/17:22:10:00'));
    			 	document.write(timeBefore('2019/01/01/17:22:10:00'));
    			 	document.write(timeBefore('2019/02/01/17:22:10:00'));
    			 	document.write(timeBefore('2019/03/01/17:22:10:00'));
    			 	document.write(timeBefore('2019/04/01/17:22:10:00'));
    			 	document.write(timeBefore('2019/09/01/17:22:10:00'));
    			 	document.write(timeBefore('2019/08/28/17:22:10:00'));
    			</script>  
    </body>
</html>

